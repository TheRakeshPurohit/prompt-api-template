import { CliUx, Command, Flags } from '@oclif/core';
import { getAuthedClient } from '../../helpers/get-client.js';
import { getConfiguration } from '../../wizards/get-config.js';
export default class Get extends Command {
    static description = 'Lists tasks in the Steamship.';
    static examples = ['ship plugin:task:get --id <taskUuid>'];
    static flags = {
        id: Flags.string({ char: 'i', description: 'Task ID', required: true })
    };
    static args = [];
    async run() {
        const { args, flags } = await this.parse(Get);
        const client = await getAuthedClient();
        const config = await getConfiguration({});
        const t = await client.post('task/status', {
            taskId: flags.id
        });
        if (t) {
            CliUx.ux.info(`ID:        ${t.taskId}`);
            CliUx.ux.info(`Name:      ${t.name}`);
            CliUx.ux.info(`State:     ${t.state}`);
            CliUx.ux.info(`Created:   ${t.taskCreatedOn}`);
            CliUx.ux.info(`Updated:   ${t.taskLastModifiedOn}`);
        }
        else {
            CliUx.ux.error('Unable to find that task.');
        }
    }
}
