import { CliUx, Command } from '@oclif/core';
import { loadProjectFile } from '../../helpers/project-config.js';
export default class Deploy extends Command {
    static description = 'Returns a property from your steamship.json file';
    static examples = ['ship project:get name', 'ship project:get plugin.type'];
    static flags = {};
    static args = [
        {
            name: 'property',
            description: 'Property in steamship.json to fetch. Dot-notation will traverse nested objects.'
        }
    ];
    async run() {
        const { args, flags } = await this.parse(Deploy);
        try {
            const config = loadProjectFile();
            const properties = args.property.split('.');
            let value = config;
            while (properties.length > 0) {
                const property = properties.shift();
                value = value[property];
                if (typeof value == 'undefined') {
                    return;
                }
            }
            console.log(value);
        }
        catch {
            CliUx.ux.error('Unable to locate steamship.json file');
            CliUx.ux.exit(-1);
        }
    }
}
