import { loadConfiguration } from '@steamship/client';
import { MY_ACCOUNT_ENDPOINT } from './constants.js';
export async function getAuthenticatedUrl() {
    const config = await loadConfiguration();
    if (typeof config.apiBase === undefined || typeof config.apiKey === undefined) {
        throw 'No API domain or access token found. Please run.js `ship login`';
    }
    return {
        url: `${config.apiBase}${MY_ACCOUNT_ENDPOINT}`,
        headers: {
            Authorization: `Bearer ${config.apiKey}`
        }
    };
}
