import { CliUx } from '@oclif/core';
import { PackageInstance } from '@steamship/client';
import { getHandle } from './get-handle.js';
export async function getPackageInstance(params) {
    const handle = await getHandle({
        provided: params.providedHandle,
        config: params.config,
        type: 'instance'
    });
    if (!params.package) {
        CliUx.ux.error('Unable to load package instance - package missing.');
        CliUx.ux.exit(-1);
    }
    const instanceR = await PackageInstance.get(params.client, {
        packageHandle: params.package.handle,
        handle: handle
    });
    if (!instanceR.output) {
        CliUx.ux.error('Unable to load package instance.');
        CliUx.ux.exit(-1);
    }
    return instanceR.output;
}
